
// A string fornecida
const grupo4xr = `
Random_Detrator_Sudeste;disponibilidade e confiabilidade mecânica  (csat);0.21456974683766483
Random_Detrator_Sudeste;facilidade de operação (csat);0.15163441291479443
Random_Detrator_Sudeste;facilidade para realização de manutenções (csat);0.1317966379370723
Random_Detrator_Sudeste;capacidade operacional (hectares por hora) (csat);0.09879599618573363
Random_Detrator_Sudeste;adequação as diversas operações e implementos (csat);0.098274162165028
Random_Detrator_Sudeste;custo de manutenção (csat);0.08140945745921774
Random_Detrator_Sudeste;adaptabilidade as mais diversas condições de trabalho (csat);0.049336544538004706
Random_Detrator_Sudeste;consumo de combustível (litros por hectares) (csat);0.04760371135952505
Random_Detrator_Sudeste;conforto e ergonomia (csat);0.039628838368940066
Random_Detrator_Sudeste;geração e transmissão de dados para gestão da frota (csat);0.03782146763576102
Random_Neutro_Sudeste;disponibilidade e confiabilidade mecânica  (csat);0.125091247352173
Random_Neutro_Sudeste;custo de manutenção (csat);0.11882962162503993
Random_Neutro_Sudeste;facilidade para realização de manutenções (csat);0.11531997408231118
Random_Neutro_Sudeste;capacidade operacional (hectares por hora) (csat);0.11077714664906124
Random_Neutro_Sudeste;facilidade de operação (csat);0.08963140640517057
Random_Neutro_Sudeste;adequação as diversas operações e implementos (csat);0.07586293599374298
Random_Neutro_Sudeste;consumo de combustível (litros por hectares) (csat);0.0757677904822855
Random_Neutro_Sudeste;adaptabilidade as mais diversas condições de trabalho (csat);0.07371903152239509
Random_Neutro_Sudeste;conforto e ergonomia (csat);0.070637649757971
Random_Neutro_Sudeste;geração e transmissão de dados para gestão da frota (csat);0.053852592986225675
Random_Promotor_Sudeste;facilidade de operação (csat);0.13978408083012656
Random_Promotor_Sudeste;capacidade operacional (hectares por hora) (csat);0.13790014634617245
Random_Promotor_Sudeste;facilidade para realização de manutenções (csat);0.12273150592690998
Random_Promotor_Sudeste;disponibilidade e confiabilidade mecânica  (csat);0.11503135753137618
Random_Promotor_Sudeste;custo de manutenção (csat);0.0970038929157974
Random_Promotor_Sudeste;adequação as diversas operações e implementos (csat);0.08432765070995789
Random_Promotor_Sudeste;adaptabilidade as mais diversas condições de trabalho (csat);0.07232636359064887
Random_Promotor_Sudeste;conforto e ergonomia (csat);0.05763619618838402
Random_Promotor_Sudeste;consumo de combustível (litros por hectares) (csat);0.056794283510188275
Random_Promotor_Sudeste;geração e transmissão de dados para gestão da frota (csat);0.045983579619718204
Random_Detrator_Sul;facilidade de operação (csat);0.18498416599291287
Random_Detrator_Sul;facilidade para realização de manutenções (csat);0.17775273911004907
Random_Detrator_Sul;disponibilidade e confiabilidade mecânica  (csat);0.1414564969472796
Random_Detrator_Sul;custo de manutenção (csat);0.11242324018661327
Random_Detrator_Sul;adequação as diversas operações e implementos (csat);0.08364723318240612
Random_Detrator_Sul;adaptabilidade as mais diversas condições de trabalho (csat);0.05664924290031015
Random_Detrator_Sul;conforto e ergonomia (csat);0.05122820425432247
Random_Detrator_Sul;geração e transmissão de dados para gestão da frota (csat);0.05042705193503511
Random_Detrator_Sul;capacidade operacional (hectares por hora) (csat);0.047093941035055334
Random_Detrator_Sul;geração e transmissão de dados para gestão agrícola (csat);0.0453842954234682
Random_Neutro_Sul;facilidade para realização de manutenções (csat);0.12966913239948863
Random_Neutro_Sul;facilidade de operação (csat);0.12871967664363984
Random_Neutro_Sul;custo de manutenção (csat);0.12464541825737471
Random_Neutro_Sul;capacidade operacional (hectares por hora) (csat);0.0937741618969019
Random_Neutro_Sul;disponibilidade e confiabilidade mecânica  (csat);0.08759046927887391
Random_Neutro_Sul;adequação as diversas operações e implementos (csat);0.07489742464050025
Random_Neutro_Sul;consumo de combustível (litros por hectares) (csat);0.07191663047800709
Random_Neutro_Sul;conforto e ergonomia (csat);0.06821835464863182
Random_Neutro_Sul;adaptabilidade as mais diversas condições de trabalho (csat);0.06571430653136609
Random_Neutro_Sul;geração e transmissão de dados para gestão da frota (csat);0.059691956614949845
Random_Promotor_Sul;facilidade de operação (csat);0.17491403611522247
Random_Promotor_Sul;facilidade para realização de manutenções (csat);0.14526457888762148
Random_Promotor_Sul;custo de manutenção (csat);0.10504027829649215
Random_Promotor_Sul;capacidade operacional (hectares por hora) (csat);0.09706662761512701
Random_Promotor_Sul;disponibilidade e confiabilidade mecânica  (csat);0.09642818058130924
Random_Promotor_Sul;adequação as diversas operações e implementos (csat);0.07603159366354176
Random_Promotor_Sul;adaptabilidade as mais diversas condições de trabalho (csat);0.0624561382283886
Random_Promotor_Sul;consumo de combustível (litros por hectares) (csat);0.057828836059463255
Random_Promotor_Sul;conforto e ergonomia (csat);0.05379821879913959
Random_Promotor_Sul;geração e transmissão de dados para gestão da frota (csat);0.05052065311133168
Random_Detrator_Outro;facilidade para realização de manutenções (csat);0.20774006971483056
Random_Detrator_Outro;disponibilidade e confiabilidade mecânica  (csat);0.1803364876569344
Random_Detrator_Outro;facilidade de operação (csat);0.16288558489164606
Random_Detrator_Outro;adequação as diversas operações e implementos (csat);0.09558279707675164
Random_Detrator_Outro;adaptabilidade as mais diversas condições de trabalho (csat);0.08464625546857028
Random_Detrator_Outro;custo de manutenção (csat);0.08221284119575145
Random_Detrator_Outro;capacidade operacional (hectares por hora) (csat);0.04378343846066765
Random_Detrator_Outro;geração e transmissão de dados para gestão agrícola (csat);0.039226869248571175
Random_Detrator_Outro;geração e transmissão de dados para gestão da frota (csat);0.03909889589411884
Random_Detrator_Outro;conforto e ergonomia (csat);0.02331608323376713
Random_Neutro_Outro;facilidade para realização de manutenções (csat);0.12088018517455926
Random_Neutro_Outro;disponibilidade e confiabilidade mecânica  (csat);0.11846303788392928
Random_Neutro_Outro;custo de manutenção (csat);0.10573695467074748
Random_Neutro_Outro;facilidade de operação (csat);0.09920435075187514
Random_Neutro_Outro;capacidade operacional (hectares por hora) (csat);0.08856282744820819
Random_Neutro_Outro;adequação as diversas operações e implementos (csat);0.08233058733205523
Random_Neutro_Outro;geração e transmissão de dados para gestão agrícola (csat);0.0787931865680455
Random_Neutro_Outro;geração e transmissão de dados para gestão da frota (csat);0.0787770735830245
Random_Neutro_Outro;adaptabilidade as mais diversas condições de trabalho (csat);0.07279598916040494
Random_Neutro_Outro;conforto e ergonomia (csat);0.06371610299515794
Random_Promotor_Outro;facilidade de operação (csat);0.16293664515713938
Random_Promotor_Outro;facilidade para realização de manutenções (csat);0.13558549104562254
Random_Promotor_Outro;disponibilidade e confiabilidade mecânica  (csat);0.13397696507336715
Random_Promotor_Outro;adequação as diversas operações e implementos (csat);0.08443132619240303
Random_Promotor_Outro;custo de manutenção (csat);0.08071582379691197
Random_Promotor_Outro;geração e transmissão de dados para gestão agrícola (csat);0.07591718102225921
Random_Promotor_Outro;geração e transmissão de dados para gestão da frota (csat);0.07006291047770452
Random_Promotor_Outro;capacidade operacional (hectares por hora) (csat);0.06936986797423107
Random_Promotor_Outro;adaptabilidade as mais diversas condições de trabalho (csat);0.060850998655070175
Random_Promotor_Outro;conforto e ergonomia (csat);0.05641480863947908
Random_Detrator_Nordeste;disponibilidade e confiabilidade mecânica  (csat);0.2607711671969671
Random_Detrator_Nordeste;adaptabilidade as mais diversas condições de trabalho (csat);0.12582448256857665
Random_Detrator_Nordeste;facilidade para realização de manutenções (csat);0.11211584463675128
Random_Detrator_Nordeste;facilidade de operação (csat);0.10456018920827005
Random_Detrator_Nordeste;adequação as diversas operações e implementos (csat);0.09362036618278848
Random_Detrator_Nordeste;custo de manutenção (csat);0.08326242848104144
Random_Detrator_Nordeste;consumo de combustível (litros por hectares) (csat);0.049349834057531516
Random_Detrator_Nordeste;geração e transmissão de dados para gestão agrícola (csat);0.048726227073406674
Random_Detrator_Nordeste;capacidade operacional (hectares por hora) (csat);0.044016613704411324
Random_Detrator_Nordeste;conforto e ergonomia (csat);0.03616071771977733
Random_Neutro_Nordeste;disponibilidade e confiabilidade mecânica  (csat);0.12540452999294166
Random_Neutro_Nordeste;adequação as diversas operações e implementos (csat);0.11725259639484524
Random_Neutro_Nordeste;capacidade operacional (hectares por hora) (csat);0.10635655767954542
Random_Neutro_Nordeste;facilidade para realização de manutenções (csat);0.10206313303670209
Random_Neutro_Nordeste;consumo de combustível (litros por hectares) (csat);0.09621100331377039
Random_Neutro_Nordeste;custo de manutenção (csat);0.09483898714281946
Random_Neutro_Nordeste;adaptabilidade as mais diversas condições de trabalho (csat);0.09192076350678896
Random_Neutro_Nordeste;facilidade de operação (csat);0.06435123306402463
Random_Neutro_Nordeste;conforto e ergonomia (csat);0.060226000138920134
Random_Neutro_Nordeste;facilidade de uso do piloto automático (csat);0.05105139851452294
Random_Promotor_Nordeste;adequação as diversas operações e implementos (csat);0.13953804158518993
Random_Promotor_Nordeste;disponibilidade e confiabilidade mecânica  (csat);0.1339847105689606
Random_Promotor_Nordeste;facilidade para realização de manutenções (csat);0.11440331987058176
Random_Promotor_Nordeste;capacidade operacional (hectares por hora) (csat);0.10114742902254349
Random_Promotor_Nordeste;adaptabilidade as mais diversas condições de trabalho (csat);0.0957581007902538
Random_Promotor_Nordeste;custo de manutenção (csat);0.09098438516318594
Random_Promotor_Nordeste;consumo de combustível (litros por hectares) (csat);0.0783227714406874
Random_Promotor_Nordeste;facilidade de operação (csat);0.0778901578744086
Random_Promotor_Nordeste;conforto e ergonomia (csat);0.048581248702762383
Random_Promotor_Nordeste;geração e transmissão de dados para gestão agrícola (csat);0.04385276152526015
Random_Detrator_Centro-Oeste;facilidade de operação (csat);0.23189665238884818
Random_Detrator_Centro-Oeste;capacidade operacional (hectares por hora) (csat);0.12573864040350713
Random_Detrator_Centro-Oeste;facilidade para realização de manutenções (csat);0.1255973804880404
Random_Detrator_Centro-Oeste;custo de manutenção (csat);0.1189293653188308
Random_Detrator_Centro-Oeste;disponibilidade e confiabilidade mecânica  (csat);0.10476082578127095
Random_Detrator_Centro-Oeste;adaptabilidade as mais diversas condições de trabalho (csat);0.08088862870665128
Random_Detrator_Centro-Oeste;adequação as diversas operações e implementos (csat);0.061553920241801424
Random_Detrator_Centro-Oeste;geração e transmissão de dados para gestão da frota (csat);0.048104226437499224
Random_Detrator_Centro-Oeste;geração e transmissão de dados para gestão agrícola (csat);0.03700511743924702
Random_Detrator_Centro-Oeste;consumo de combustível (litros por hectares) (csat);0.027093646065611744
Random_Neutro_Centro-Oeste;custo de manutenção (csat);0.14267351968235842
Random_Neutro_Centro-Oeste;facilidade para realização de manutenções (csat);0.1339659734244044
Random_Neutro_Centro-Oeste;facilidade de operação (csat);0.12290904194785338
Random_Neutro_Centro-Oeste;capacidade operacional (hectares por hora) (csat);0.08731017893022776
Random_Neutro_Centro-Oeste;disponibilidade e confiabilidade mecânica  (csat);0.08654478132575912
Random_Neutro_Centro-Oeste;geração e transmissão de dados para gestão da frota (csat);0.07837667697851042
Random_Neutro_Centro-Oeste;adaptabilidade as mais diversas condições de trabalho (csat);0.07599565779008303
Random_Neutro_Centro-Oeste;geração e transmissão de dados para gestão agrícola (csat);0.0668293522658681
Random_Neutro_Centro-Oeste;consumo de combustível (litros por hectares) (csat);0.06624332978758656
Random_Neutro_Centro-Oeste;adequação as diversas operações e implementos (csat);0.050143805329561454
Random_Promotor_Centro-Oeste;facilidade de operação (csat);0.17897385494417428
Random_Promotor_Centro-Oeste;facilidade para realização de manutenções (csat);0.1338237575451708
Random_Promotor_Centro-Oeste;custo de manutenção (csat);0.12428065398991019
Random_Promotor_Centro-Oeste;capacidade operacional (hectares por hora) (csat);0.10159915648767748
Random_Promotor_Centro-Oeste;disponibilidade e confiabilidade mecânica  (csat);0.08592978583191854
Random_Promotor_Centro-Oeste;adaptabilidade as mais diversas condições de trabalho (csat);0.07247324842901853
Random_Promotor_Centro-Oeste;geração e transmissão de dados para gestão da frota (csat);0.06765051746196729
Random_Promotor_Centro-Oeste;geração e transmissão de dados para gestão agrícola (csat);0.0633926112881522
Random_Promotor_Centro-Oeste;consumo de combustível (litros por hectares) (csat);0.05104727711640038
Random_Promotor_Centro-Oeste;adequação as diversas operações e implementos (csat);0.04811236702466673
Random_Detrator_Norte;facilidade para realização de manutenções (csat);0.18713063086325868
Random_Detrator_Norte;facilidade de operação (csat);0.172223450545575
Random_Detrator_Norte;custo de manutenção (csat);0.14213649790304494
Random_Detrator_Norte;disponibilidade e confiabilidade mecânica  (csat);0.13763657374346588
Random_Detrator_Norte;adequação as diversas operações e implementos (csat);0.08176698173926006
Random_Detrator_Norte;adaptabilidade as mais diversas condições de trabalho (csat);0.05760485433105479
Random_Detrator_Norte;geração e transmissão de dados para gestão agrícola (csat);0.04810591004200533
Random_Detrator_Norte;consumo de combustível (litros por hectares) (csat);0.04512548330196208
Random_Detrator_Norte;geração e transmissão de dados para gestão da frota (csat);0.03997437144463122
Random_Detrator_Norte;capacidade operacional (hectares por hora) (csat);0.038439003300291395
Random_Neutro_Norte;custo de manutenção (csat);0.12873280129964124
Random_Neutro_Norte;facilidade para realização de manutenções (csat);0.11900181689411439
Random_Neutro_Norte;adaptabilidade as mais diversas condições de trabalho (csat);0.10439917494307518
Random_Neutro_Norte;facilidade de operação (csat);0.10004353176464427
Random_Neutro_Norte;disponibilidade e confiabilidade mecânica  (csat);0.09277524520853499
Random_Neutro_Norte;capacidade operacional (hectares por hora) (csat);0.07853561413519222
Random_Neutro_Norte;geração e transmissão de dados para gestão agrícola (csat);0.07084825058404079
Random_Neutro_Norte;adequação as diversas operações e implementos (csat);0.07004390743083087
Random_Neutro_Norte;consumo de combustível (litros por hectares) (csat);0.06932515898149805
Random_Neutro_Norte;geração e transmissão de dados para gestão da frota (csat);0.06522748235956062
Random_Promotor_Norte;facilidade de operação (csat);0.14979861581436088
Random_Promotor_Norte;facilidade para realização de manutenções (csat);0.13620341294160465
Random_Promotor_Norte;custo de manutenção (csat);0.11957936662645706
Random_Promotor_Norte;adaptabilidade as mais diversas condições de trabalho (csat);0.09864265630931118
Random_Promotor_Norte;capacidade operacional (hectares por hora) (csat);0.09243505482053596
Random_Promotor_Norte;disponibilidade e confiabilidade mecânica  (csat);0.08985243185951111
Random_Promotor_Norte;adequação as diversas operações e implementos (csat);0.06864221068864726
Random_Promotor_Norte;geração e transmissão de dados para gestão agrícola (csat);0.05892335049369197
Random_Promotor_Norte;geração e transmissão de dados para gestão da frota (csat);0.056442320835996936
Random_Promotor_Norte;consumo de combustível (litros por hectares) (csat);0.05360378061935003
Random_Detrator_BRASIL;disponibilidade e confiabilidade mecânica  (csat);0.17674905559258655
Random_Detrator_BRASIL;facilidade de operação (csat);0.1576345237966788
Random_Detrator_BRASIL;facilidade para realização de manutenções (csat);0.1500301109509458
Random_Detrator_BRASIL;adequação as diversas operações e implementos (csat);0.09903731942821607
Random_Detrator_BRASIL;custo de manutenção (csat);0.09841204041842513
Random_Detrator_BRASIL;adaptabilidade as mais diversas condições de trabalho (csat);0.06622539483431575
Random_Detrator_BRASIL;capacidade operacional (hectares por hora) (csat);0.06574572587320598
Random_Detrator_BRASIL;geração e transmissão de dados para gestão da frota (csat);0.04414927666665304
Random_Detrator_BRASIL;geração e transmissão de dados para gestão agrícola (csat);0.04300294515031089
Random_Detrator_BRASIL;conforto e ergonomia (csat);0.04126594707565963
Random_Neutro_BRASIL;facilidade para realização de manutenções (csat);0.11998407589386748
Random_Neutro_BRASIL;custo de manutenção (csat);0.11774778965309235
Random_Neutro_BRASIL;facilidade de operação (csat);0.11114106813662654
Random_Neutro_BRASIL;disponibilidade e confiabilidade mecânica  (csat);0.104728221641006
Random_Neutro_BRASIL;capacidade operacional (hectares por hora) (csat);0.10401667448220794
Random_Neutro_BRASIL;adaptabilidade as mais diversas condições de trabalho (csat);0.0747484589801349
Random_Neutro_BRASIL;consumo de combustível (litros por hectares) (csat);0.07463220100358169
Random_Neutro_BRASIL;adequação as diversas operações e implementos (csat);0.06970047135660763
Random_Neutro_BRASIL;conforto e ergonomia (csat);0.06350621581954892
Random_Neutro_BRASIL;geração e transmissão de dados para gestão da frota (csat);0.05945964665551206
Random_Promotor_BRASIL;facilidade de operação (csat);0.15756461370804217
Random_Promotor_BRASIL;facilidade para realização de manutenções (csat);0.1385576718560016
Random_Promotor_BRASIL;capacidade operacional (hectares por hora) (csat);0.11081675111496583
Random_Promotor_BRASIL;disponibilidade e confiabilidade mecânica  (csat);0.1096938675088258
Random_Promotor_BRASIL;custo de manutenção (csat);0.09679323998180009
Random_Promotor_BRASIL;adequação as diversas operações e implementos (csat);0.07790590787479768
Random_Promotor_BRASIL;adaptabilidade as mais diversas condições de trabalho (csat);0.07255787064962353
Random_Promotor_BRASIL;consumo de combustível (litros por hectares) (csat);0.057605455291775506
Random_Promotor_BRASIL;conforto e ergonomia (csat);0.05053408113681946
Random_Promotor_BRASIL;geração e transmissão de dados para gestão da frota (csat);0.049463273019138485
`;

// Função para processar a string
function processData(input) {
    const rows = input.split("\n");
    const datasets = {};

    rows.forEach(row => {
        const columns = row.split(";");
        if (columns.length === 3) {
            const modelo = columns[0];
            const variavel = columns[1];
            const importancia = parseFloat(columns[2]);

            // Se o modelo ainda não existir, cria um novo array
            if (!datasets[modelo]) {
                datasets[modelo] = [];
            }

            datasets[modelo].push({
                label: variavel,
                data: importancia
            });
        }
    });
    return datasets;
}

// Processando os dados
const datasets = processData(grupo4xr);

// Função para gerar gráficos dinamicamente
function generateCharts(datasets) {
    const container = document.getElementById('chartsContainer');

    // Cores mais vibrantes
    const vibrantColors = [
        'rgba(54, 162, 235)',    // Azul
        'rgba(255, 99, 132)',    // Vermelho
        'rgba(255, 206, 86)',    // Amarelo
        'rgba(75, 192, 192)',    // Verde
        'rgba(153, 102, 255)',   // Roxo
        'rgba(255, 159, 64)',    // Laranja
        'rgba(169, 169, 169)',   // Cinza
        'rgba(0, 128, 0)',       // Verde escuro
        'rgba(0, 0, 139)',       // Azul escuro
        'rgba(139, 69, 19)'      // Marrom
    ];

    Object.keys(datasets).forEach(modelo => {
        // Criando a div que contém o título e o gráfico
        const chartContainer = document.createElement('div');
        chartContainer.classList.add('chart-container');
        container.appendChild(chartContainer);

        // Adicionando o título para cada gráfico
        const chartTitle = document.createElement('div');
        chartTitle.classList.add('chart-title');
        chartTitle.textContent = modelo;
        chartContainer.appendChild(chartTitle);

        // Criando o elemento canvas para o gráfico
        const canvas = document.createElement('canvas');
        chartContainer.appendChild(canvas);

        const chartData = {
            labels: datasets[modelo].map(item => item.label),
            datasets: [{
                label: modelo,
                data: datasets[modelo].map(item => item.data),
                backgroundColor: vibrantColors,
                borderColor: vibrantColors,
                borderWidth: 1
            }]
        };

        // Criando o gráfico com Chart.js
        const ctx = canvas.getContext('2d');
        new Chart(ctx, {
            type: 'bar', // Usando o tipo 'bar' com indexAxis: 'y'
            data: chartData,
            options: {
                responsive: true,
                indexAxis: 'y', // Configuração para barras horizontais
                scales: {
                    x: {
                        beginAtZero: true
                    }
                }
            }
        });
    });
}

// Gerar os gráficos para cada modelo
generateCharts(datasets);
